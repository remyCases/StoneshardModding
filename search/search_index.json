{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Unofficial Stoneshard Modding Documentation","text":"<p>Welcome to the Unofficial Stoneshard Modding Documentation !  </p> <p>This documentation is written and updated by the community in the interest of pooling knowledge to create better mods, faster. Keep in mind this is a very early version of the documentation, it very likely will contain errors and/or inaccuracies, and will change considerably in the future.</p> <p>Feel free to report any outdated or incorrect information on the Stoneshard Mod Hub Discord. Looking to contribute ? Contact one of the maintainers about it on Discord.</p>"},{"location":"#summary","title":"Summary","text":"<ul> <li>Index : This page.</li> <li>Tools : The tools we use, or have used, to make and distribute mods.</li> <li>Guides : Detailed guides on how to mod something specific.</li> <li>References : Information and documentation of code used when modding.</li> </ul>"},{"location":"#contributors","title":"Contributors","text":"<ul> <li>Nylux (<code>Nylux#6667</code>)</li> <li>...</li> </ul>"},{"location":"#links","title":"Links","text":"<ul> <li>Discord </li> <li>Github </li> </ul>"},{"location":"guides/adding-new-sprites/","title":"Adding New Sprites","text":"<p>Warning</p> <p>This article is planned to be rewritten soon. Stay tuned.</p> <p>In Stoneshard, sprites aren't simply imported as png files, but as spritesheets in an \"Embedded Texture\" which is then cut into multiple \"Page Items\", and turned into actual \"Sprites\".</p>"},{"location":"guides/adding-new-sprites/#embedded-textures","title":"Embedded Textures :","text":"<p>That's the entry point for textures. Each mod should create a new one (or several) with their whole spritesheet. They need to be in power of 2's dimensions, so for instance :</p> <p><code>16, 32, 64, 128, 256, 512...</code></p> <p>A valid resolution for an embedded texture could be <code>512x128</code>.</p>"},{"location":"guides/adding-new-sprites/#page-items","title":"Page Items :","text":"<p>Page Items crop Embedded Textures and isolate the desired sprites. In the end, you can have as many Page Items as you had sprites on your Embedded Texture.</p>"},{"location":"guides/adding-new-sprites/#sprites","title":"Sprites :","text":"<p>The actual Sprite itself is created, and takes one or multiple Page Item as a texture. It can then be named and used by gameobjects.</p>"},{"location":"guides/adding-new-sprites/#manually-importing-sprites","title":"Manually Importing Sprites:","text":"<ul> <li><code>1</code> This line is the one corresponding to #15, aka your base texture file. It's essentially an invisible box controlled by #2, #3, #4 and #5. If it's on your texture, it will show with colors and not transparent.</li> <li><code>2</code> This is the offset on the X axis for your invisible box. (from the left side)</li> <li><code>3</code> This is the offset on the Y axis for your invisible box. (from the top)</li> <li><code>4</code> This is the length on the X axis for your invisible box.</li> <li><code>5</code> This is the height on the Y axis for your invisible box.</li> <li><code>6</code> This line is the one which corresponds to #14, aka the Page Item you're trying to create. it's a visible green box on a transparent background where your sprite should appear.</li> <li><code>7</code> This is the offset on the X axis for your green box. IT IS BASED ON #11's SIZE.</li> <li><code>8</code> This is the offset on the Y axus for your green box. IT IS BASED ON #11's SIZE.</li> <li><code>9</code> This is the length on the X axis for your green box.</li> <li><code>10</code> This is the height on the Y axis for your green box.</li> <li><code>11</code> This line defines the bounding box, aka the size of the transparent background on which your green box sits.</li> <li><code>12</code> This is the length on the X axis for the bounding box.</li> <li><code>13</code> This is the height on the Y axis for the bounding box.</li> <li><code>14</code> This is your Page Item. Your cropped texture should appear here inside a green box.</li> <li><code>15</code> This is your Embedded Texture, which can contain many different sprites. It should be displayed with colors and not transparent.</li> </ul>"},{"location":"guides/adding-new-sprites/#notes","title":"Notes :","text":"<ul> <li>UMT is VERY buggy and the Page Item sometimes doesn't update even if you're perfectly on your sprite, just in case it wasn't hard enough to understand what the fuck is going on.</li> <li>If you're creating an item that is supposed to fit in your inventory, a single cell is <code>27x27</code>, anything bigger than that will overflow into other cells.</li> <li>It's good to check other inventory items of the same size as the one you want to create to check for their sprite's dimensions.</li> </ul>"},{"location":"guides/adding-new-sprites/#automatically-importing-sprites","title":"Automatically Importing Sprites","text":"<p>To automatically import sprites, you need to use UMT's Scripts : <code>UMT &gt; Scripts &gt; Resource Repackers &gt; Import Graphics.csx</code></p> <p>The sprites need to be in a folder named 'Sprites', with their name respecting the following format : <code>s_objectname_0.png</code> The number at the end can be used when multiple sprites have the same name, like in animations.</p>"},{"location":"guides/getting-started/","title":"Getting Started","text":""},{"location":"guides/getting-started/#setting-up-your-environment","title":"Setting up your Environment","text":"<p>In order to make mods for Stoneshard you don't need much. There is only a few tools to use and a single file to edit.</p> <p>However, it's a good idea to stay organized. This will help make sure your time is spent working on your mod and not wasted trying to figure out which one of your data.win was the 0.8.0.27 version.</p> 1. Locating your game folder <p>First we're going to find our game folder. Its location differs depending on where you purchased the game :  </p> <ul> <li>Steam : <code>C:\\SteamLibrary\\steamapps\\common\\Stoneshard</code></li> <li>GOG : <code>C:\\Games\\Stoneshard</code></li> </ul> <p>It's a good idea to create a shortcut to this folder, or to pin it so you can access it easily.</p> 2. Backing up the data.win <p>The data.win file is the file containing all of the game's data. This includes everything from sprites to scripts, with some exceptions like sound, dialogs and fonts.</p> <p>It's necessary to keep an unmodded (or vanilla) data.win as a backup, mainly for when you need to check vanilla code but also and more importantly for creating .xdelta patches later when you want to distribute your mods.</p> <p>For now, let's simply rename your data.win to vanilla.win. <pre><code>data.win -&gt; vanilla.win\n</code></pre></p> Why renaming instead of making a backup ? <p>The reason why we rename the data.win to vanilla.win instead of making a backup like data2.win is pretty simple:</p> <p>When the game starts, it looks specifically for a file called <code>data.win</code>. If none is found, it will open a window to let you select what .win file to load up.</p> <p>This is a huge time saver and avoids having to rename your modded file to data.win. It's especially convenient when working on multiple mods at once.</p> 3. Installing the tools <p>Now that we've made a \"backup\" of our data.win file, it's time to install the tools we'll need to mod the game.</p> <p>Let's start by creating a folder anywhere on your PC. This is the folder where you will keep all your tools.</p> <p>Once that is done, check out the Tools section of the documentation for a list of tools and their download instructions. The only required tools are UndertaleModTool and DeltaPatcher, the rest is only useful for specific scenarios.</p> <p>For reference here is my folder structure :</p> B:\\Mods\\stoneshard-mods\\<pre><code>+ stoneshard-mods\n- Tools\n- UndertaleModTool\n- DeltaPatcher\n- HGPatcher\n- GML To CSV Converter\n- Art #(1)!\n- ...\n- Archives #(2)!\n- 0.8.1.5\n- 0.8.1.7\n- 0.8.1.8\n- 0.8.1.9\n</code></pre> <ol> <li> <p>This is a good place to store all the sprites you may create when modding.</p> </li> <li> <p>This is a good folder to create to store data.win for older versions of Stoneshard. Code is bound to change and being able to access older versions is key.</p> </li> </ol>"},{"location":"guides/getting-started/#creating-your-first-mod","title":"Creating your First Mod","text":"<p>Now that you've got your tools set up, let's get to work. For your first mod we're going to add a quicksave feature to the game when you press the F5 key.</p> <p>Info</p> <p>Yes, this is a fairly basic example, keep in mind that you can mod in way more interesting things in the game, but this guide is written for beginners and as such its aim is to demonstrate the mechanics of making a mod, not how to create content. This is for other guides to cover.</p> 1. Creating and opening your modded .win file <p>Let's head back to your game folder.</p> <p>In here, we're going to make a copy of <code>vanilla.win</code>.    You can call it whatever you want, I'll call mine <code>quicksave.win</code>.</p> <p>Once that's done, let's open <code>quicksave.win</code> with UMT by double clicking it.</p> <p></p> <p>Let's do a quick tour of the interface.</p> <ul> <li> <p>On the top left, you have a search bar. As expected you can use it to search the game's files. This search bar only works for finding files by names, not searching for content inside of files.</p> </li> <li> <p>Below this you will find the explorer, which lists all the files contained in the .win file. Files are placed in different \"Blocks\", based on what they are. The blocks you will use the most are the <code>Sprites</code>, <code>Game objects</code> and <code>Code</code>.</p> </li> <li> <p>Finally in the right pane is where the content of the files you open will be shown.</p> </li> </ul> 2. Adding the Script <p>Pressing the F5 key is an action the player is going to do, so it would make sense to attach the script we're going to write to the player's character.</p> <ul> <li>Let's start by searching for <code>o_player</code> in the search bar.  </li> <li>In the <code>Game objects</code> block, you should find <code>o_player</code> now.  </li> <li>Double click on it to open it in the right pane.</li> <li>Scroll down to the <code>KeyPress</code> Event.</li> </ul> <p></p> <p>Next to <code>vk_f5</code> is the script we want to edit, as this is the one that gets run when the player presses the F5 key.</p> <ul> <li>Double click on <code>gml_Object_o_player_KeyPress_116</code>. This should open an empty code editor.</li> <li> <p>Let's add the following code to it : <pre><code>scr_smoothAutoSave()\nscr_actionsLogUpdate(\"Game Saved !\")\n</code></pre></p> </li> <li> <p>Save your quicksave.win. ( Ctrl+S or <code>File &gt; Save</code> at the top left of your screen)</p> </li> </ul> 3. Testing your mod <p>You've added your script, great ! But how do we know if our code works ? Testing !</p> <p>So let's get to it. Thankfully, this mod is pretty simple and testing it should take no time at all.</p> <ul> <li>Start the game, it should prompt your for which .win file to use, select <code>quicksave.win</code>.</li> <li>Once in game, load up into any of your saves, and hit the F5 key.</li> <li>The stoneshard logo should appear on the bottom right, and <code>\"Game Saved !\"</code> should appear in the Action Log on your left.</li> </ul> <p>Not working ?</p> <p>If something went wrong or this doesn't work, make sure to check the previous sections for mistakes. If it still doesn't work, feel free to message any of the maintainers on Discord  about it.</p>"},{"location":"guides/getting-started/#distributing-your-mod","title":"Distributing your mod","text":"<p>Our mod works and now we want to share it with other people. Sharing your data.win would technically work, but could be considered piracy since you're essentially sharing game files.</p> <p>Instead, we're going to use DeltaPatcher to create an .xdelta file that we can share online. Don't worry, this may sound complex but it's completely trivial.</p> Creating an .xdelta file <p>Read the \"Creating Mods\" section on the DeltaPatcher article.</p> <p>See guide here.</p>"},{"location":"guides/working-with-tables/","title":"Working with Tables","text":"<p>Item properties and descriptions aren't defined on gameobjects themselves but in tables that both look and work similarly to the CSV format.</p> <p>Tables usually begin with <code>gml_globalscript_table</code> in their name and are located in the \"CODE\" block.</p> <p>Warning</p> <p>It is HEAVILY recommended to save your data.win changes before messing with tables, as those are very prone to crash UMT and could cause the loss of any unsaved changes.</p>"},{"location":"guides/working-with-tables/#reading-writing-tables","title":"Reading &amp; Writing Tables","text":"<p>To read and edit the tables, using UMT isn't practical as it's both laggy with big files, and doesn't provide a clear interface to know which column you're trying to modify.</p> <p>As such, you should use the GML to CSV Converter. A detailed guide of how to use it is available on its page, but here's a quick rundown :</p> GML to CSV Converter Guide <ul> <li>Make sure you have the .Net Core 3.1 installed.</li> <li>Download and extract CSV_GML_Converter.</li> <li>Extract the GML tables in the same folder with <code>UMT &gt; Scripts &gt; Resource Unpacker &gt; Dump Specific Code</code> and specify the names of the files containing the tables you want to extract.</li> <li>Once done, open up <code>CSV_GML_converter_and_editor.exe</code>, and press the key corresponding to the name of the file to be converted.</li> <li>Your .csv file will be generated, you can open it in several applications, including Google Docs or Excel.</li> </ul>"},{"location":"guides/working-with-tables/#content","title":"Content","text":"<p>Usually, all properties of an object won't necessarily be in a single table. A clear example of this are consumables :</p> <p>Their properties are stored in <code>gml_GlobalScript_table_Consumable_Parameters</code> while their description and translations are stored in <code>gml_GlobalScript_table_consumables</code>.</p> <p>A list of more or less documented tables can be found here.</p> <p>Warning</p> <p>Missing or misplaced elements in tables or corrupted tables can cause game crashes or unintended behaviours.</p>"},{"location":"references/events/","title":"Events","text":""},{"location":"references/events/#disclaimer","title":"Disclaimer","text":"<p>Info</p> <p>This page shouldn't really be in this documentation as it's more about Gamemaker Studio than it is about Stoneshard Modding, but since it's fundamental knowledge to mod the game, it will stay for now.</p> <p>I will write a proper article when I've got the time for it.</p> <p>This video by Let's Learn This Together pretty much covers what events are and what they do in GameMaker Studio 2.</p>"},{"location":"references/tables/","title":"Tables","text":"<p>This article will contain informations about tables. They're found in the <code>CODE</code> block in UMT and usually start with <code>gml_GlobalScript_table</code>. For more info on what those are see this article.  </p> <p>For the tool used to convert tables into .csv files for better readability / editing, see GML to CSV Converter.  </p> Info <p><code>Unnamed:XX</code> or <code>nan</code> in the table format section means the cell is empty. It looks weird, but it's simply an issue with how we import tables in this documentation. The actual gml table in your game will simply have empty cells at those locations.</p> gml_GlobalScript_table_enemy_balance"},{"location":"references/tables/#gml_globalscript_table_enemy_balance","title":"gml_GlobalScript_table_enemy_balance","text":"<p> 0.8.1.9</p> <p>Content : This table contains various stats about the enemies present in Stoneshard, including their level, weapon types, factions, hit chances, resistances and many others.</p> <p>Table Format :  </p> name LVL ID type faction pattern spawn_type weapon armor SU size matter EF Unnamed: 13 XP HP MP Head_DEF Body_DEF Arms_DEF Legs_DEF Unnamed: 21 Hit_Chance EVS PRR Block_Power Block_Recovery CRT CRTD CTA FMB Miscast_Chance Fortitude STL Health_Restoration MP_Restoration Cooldown_Reduction Knockback_Resistance Stun_Resistance Bleeding_Resistance Unnamed: 40 Bleeding_Chance Stun_Chance Daze_Chance Knockback_Chance Immob_Chance Stagger_Chance Unnamed: 47 STR AGL Vitality PRC WIL Unnamed: 53 Damage_Returned VIS Bonus_Range Lifesteal Manasteal Healing_Received Avoiding_Chance Unnamed: 61 Head Torso Left_Leg Right_Leg Left_Hand Right_Hand IP Pain_Resistance Morale Threat_Time Unnamed: 72 Bodypart_Damage Magic_Power Armor_Piercing Slashing_Damage Piercing_Damage Blunt_Damage Rending_Damage Fire_Damage Shock_Damage Poison_Damage Caustic_Damage Frost_Damage Arcane_Damage Unholy_Damage Sacred_Damage Psionic_Damage x Physical_Resistance Natural_Resistance Magical_Resistance x.1 Slashing_Resistance Piercing_Resistance Blunt_Resistance Rending_Resistance Fire_Resistance Shock_Resistance Poison_Resistance Caustic_Resistance Frost_Resistance Arcane_Resistance Unholy_Resistance Sacred_Resistance Psionic_Resistance x.2 canBlock canDisarm canSwim Swimming_Cost Skeleton Swordsman 4 o_skeleton_swordsman undead Undead Melee Melee sword Light 9 medium bones 461 nan 70 65 40 nan 2 1 1 nan 70 nan 10 10 -5 nan nan nan 30 nan nan nan 0 6 35 nan 20 nan nan 10 nan nan nan nan nan nan 14 12 10 12 10 nan nan 6 nan nan nan nan nan nan 1 1 1 1 1 1 75 100 nan nan nan 5 nan 10 13 nan nan nan nan nan nan nan nan nan 2 nan nan nan nan nan nan nan nan nan nan nan nan nan nan nan nan nan nan -50 nan nan 1 nan nan 2 <p>Attributes :</p> Type Name Description <code>String</code> name The name of the enemy. <code>Integer</code> LVL The level of the enemy. <code>String</code> ID The ID of the enemy. <code>String</code> type The enemy type of the enemy. <code>String</code> faction The faction the enemy belongs to. <code>String</code> pattern The AI pattern for this enemy. <code>String</code> spawn_type The type of spawn for the enemy. (?) <code>String</code> weapon The type of weapon the enemy will spawn with. <code>String</code> armor The type of armor the enemy will spawn with. <code>Integer</code> SU Spawn weight for the enemy. <code>String</code> size The size category for the enemy. <code>String</code> matter The matter this enemy is mainly made out of. <code>Integer</code> EF \"Inner Calculating\" according do a dev. (?) <code>Integer</code> XP The amount of XP given when the enemy is killed. <code>Integer</code> HP The amount of HP the enemy has. <code>Integer</code> MP The amount of MP the enemy has. <code>Integer</code> Head_DEF (?) <code>Integer</code> Body_DEF (?) <code>Integer</code> Arms_DEF (?) <code>Integer</code> Legs_DEF (?) <code>Integer</code> Hit_Chance The % of chance the enemy's attack have to hit. <code>Integer</code> EVS The % of chance the enemy has to dodge an attack. <code>Integer</code> PRR The % of chance the enemy has to block an attack. <code>Integer</code> Block_Power The maximum amount of damage the enemy can block. Recovers each turn. <code>Integer</code> Block_Recovery The amount of block power the enemy recovers each turn. <code>Integer</code> CRT The % of chance the enemy has to deal a critical hit. <code>Integer</code> CRTD The additional damage the enemy deals on a critical hit. (?) <code>Integer</code> CTA The % of chance the enemy has to counterattack when hit. <code>Integer</code> FMB The % of chance the enemy has to fumble an attack. <code>Integer</code> Miscast_Chance The % of chance the enemy has to miscast a spell. <code>Integer</code> Fortitude (?) <code>?</code> STL Stealthiness of the enemy. Currently not implemented in the game. <code>Integer</code> Health_Restoration Either the amount of health, the % of health or the chance for the enemy to recover health. (?) <code>Integer</code> MP_Restoration Same as Health_Restoration. <code>Integer</code> Cooldown_Reduction (?) <code>Integer</code> Knockback_Resistance (?) <code>Integer</code> Stun_Resistance (?) <code>Integer</code> Bleeding_Resistance (?) <code>Integer</code> Bleeding_Chance (?) <code>Integer</code> Stun_Chance (?) <code>Integer</code> Daze_Chance (?) <code>Integer</code> Knockback_Chance (?) <code>Integer</code> Immob_Chance (?) <code>Integer</code> Stagger_Chance (?) <code>Integer</code> STR The Strength ability score of the enemy. <code>Integer</code> AGL The Agility ability score of the enemy. <code>Integer</code> Vitality The Vitality ability score of the enemy. <code>Integer</code> PRC The Perception ability score of the enemy. <code>Integer</code> WIL The Willpower ability score of the enemy. <code>Integer</code> Damage_Returned The amount of damage dealt to the attacker when the enemy is attacked. <code>Integer</code> VIS The vision range of the enemy. <code>Integer</code> Bonus_Range (?) <code>Integer</code> Lifesteal Either the flat amount, the amount %, or the chance of stealing health when the enemy attacks. (?) <code>Integer</code> Manasteal Either the flat amount, the amount %, or the chance of stealing mana when the enemy attacks. (?) <code>Integer</code> Healing_Received (?) <code>Integer</code> Avoiding_Chance (?) <code>Integer</code> Head The amount of heads the enemy has (leave empty if none) <code>Integer</code> Torso The amount of torsos the enemy has (leave empty if none) <code>Integer</code> Left_Leg The amount of left legs the enemy has (leave empty if none) <code>Integer</code> Right_Leg The amount of right legs the enemy has (leave empty if none) <code>Integer</code> Left_Hand The amount of left hands the enemy has (leave empty if none) <code>Integer</code> Right_Hand The amount of right hands the enemy has (leave empty if none) <code>Integer</code> IP Injury Protection, the % of chance to not produce an injury when hit. <code>Integer</code> Pain_Resistance (?) <code>Integer</code> Morale (?) <code>Integer</code> Threat_Time The amount of time animals stay threatened before becoming hostile. <code>Integer</code> Bodypart_Damage The % of damage this enemy deals to bodyparts when attacking. <code>Integer</code> Magic_Power The damage effectiveness of the enemy's spells. <code>Integer</code> Armor_Piercing The % of the damage that will ignore armor. <code>Integer</code> Slashing_Damage The amount of slashing damage the enemy's attacks deal. <code>Integer</code> Piercing_Damage The amount of piercing damage the enemy's attacks deal. <code>Integer</code> Blunt_Damage The amount of blunt damage the enemy's attacks deal. <code>Integer</code> Rending_Damage The amount of rending damage the enemy's attacks deal. <code>Integer</code> Fire_Damage The amount of fire damage the enemy's attacks deal. <code>Integer</code> Shock_Damage The amount of shock damage the enemy's attacks deal. <code>Integer</code> Poison_Damage The amount of poison damage the enemy's attacks deal. <code>Integer</code> Caustic_Damage The amount of caustic damage the enemy's attacks deal. <code>Integer</code> Frost_Damage The amount of frost damage the enemy's attacks deal. <code>Integer</code> Arcane_Damage The amount of arcane damage the enemy's attacks deal. <code>Integer</code> Unholy_Damage The amount of unholy damage the enemy's attacks deal. <code>Integer</code> Sacred_Damage The amount of sacred damage the enemy's attacks deal. <code>Integer</code> Psionic_Damage The amount of psionic damage the enemy's attacks deal. <code>Integer</code> Physical_Resistance The % of reduction for all the Physical Damage the enemy receives. (Slashing, Piercing, Crushing, Rending). <code>Integer</code> Natural_Resistance The % of reduction for all the Nature Damage the enemy receives. (Fire, Frost, Shock, Poison, Caustic). <code>Integer</code> Slashing_Resistance The % of reduction for all the Slashing Damage the enemy receives. <code>Integer</code> Piercing_Resistance The % of reduction for all the Piercing Damage the enemy receives. <code>Integer</code> Blunt_Resistance The % of reduction for all the Blunt Damage the enemy receives. <code>Integer</code> Rending_Resistance The % of reduction for all the Rending Damage the enemy receives. <code>Integer</code> Fire_Resistance The % of reduction for all the Fire Damage the enemy receives. <code>Integer</code> Shock_Resistance The % of reduction for all the Shock Damage the enemy receives. <code>Integer</code> Poison_Resistance The % of reduction for all the Poison Damage the enemy receives. <code>Integer</code> Caustic_Resistance The % of reduction for all the Caustic Damage the enemy receives. <code>Integer</code> Frost_Resistance The % of reduction for all the Frost Damage the enemy receives. <code>Integer</code> Arcane_Resistance The % of reduction for all the Arcane Damage the enemy receives. <code>Integer</code> Unholy_Resistance The % of reduction for all the Unholy Damage the enemy receives. <code>Integer</code> Sacred_Resistance The % of reduction for all the Sacred Damage the enemy receives. <code>Integer</code> Psionic_Resistance The % of reduction for all the Psionic Damage the enemy receives. <code>Integer</code> canBlock Whether or not the enemy can block attacks. (1 for true, empty for false) <code>Integer</code> canDisarm Whether or not the enemy can be disarmed. (1 for true, empty for false) <code>Integer</code> canSwim Whether or not the enemy can swim. (1 for true, empty for false) <code>Integer</code> Swimming_Cost The amount of MP used for every tile travelled when swimming."},{"location":"references/useful-functions/","title":"Useful Functions","text":""},{"location":"references/useful-functions/#description","title":"Description","text":"<p>This here is an unsorted list of random functions you may or may not find useful during your modding journey. Functions that are built into Gamemaker Studio should not be listed here.</p> <p>This will eventually get sorted into something more useful/readable, but for now, this will do.</p> <p>Info</p> <p>Please test functions thoroughly and make sure you understand what they do before adding them to the documentation.</p>"},{"location":"references/useful-functions/#functions","title":"Functions","text":""},{"location":"references/useful-functions/#scr_actionslogupdate","title":"scr_actionsLogUpdate()","text":"<p>Syntax : <code>scr_actionsLogUpdate(\"message\")</code></p> <p>Prints message in the action log at the bottom left of the screen. Useful for debugging.</p>"},{"location":"references/useful-functions/#scr_id_get_name","title":"scr_id_get_name()","text":"<p>Syntax : <code>scr_id_get_name(id)</code></p> <p>Returns name for given ID. e.g. <code>scr_id_get_name(3126)</code> --&gt; <code>\"o_player\"</code></p>"},{"location":"references/useful-functions/#script_execute","title":"script_execute()","text":"<p>Syntax : <code>script_execute(scriptName, _argumentsArray)</code></p> <p>Executes script with array of arguments.</p>"},{"location":"references/useful-functions/#scr_inventory_add_item","title":"scr_inventory_add_item()","text":"<p>Syntax :</p> <pre><code>with(o_inventory)\n    scr_inventory_add_item(item_name_or_id)\n</code></pre> <p>Adds item by id or by name to player's inventory.</p>"},{"location":"references/useful-functions/#scr_smoothsaveauto","title":"scr_smoothSaveAuto()","text":"<p>Syntax : <code>scr_smoothSaveAuto()</code></p> <p>Uses the built-in autosave feature to save the game.</p>"},{"location":"tools/deltapatcher/","title":"DeltaPatcher","text":""},{"location":"tools/deltapatcher/#description","title":"Description","text":"<p>DeltaPatcher is the 2nd most used tool for Stoneshard modding. Currently, it's the way we both distribute and have users install mods.</p> <p>It works by checking the differences between 2 files, and generating a .xdelta file which contains only the difference (or delta ) between the 2 files. This is important because this allows us to share our mods without sending the entire game files, as that would imply much bigger file sizes as well as technically being piracy.</p> <p>The other use of DeltaPatcher as mentionned above is to actually install the mods for users. All they have to do is install DeltaPatcher, download your .xdelta file and apply it on their data.win.</p> Limitations <p>Obviously this method has limitations. Since in the end we are essentially replacing the user's data.win with our own, this means the following :</p> <ul> <li>Mods only work for 1 specific version : the one they were made on. Any update, regardless of how insignificant will break mod compatibility because of how this works.</li> <li>It's impossible to install multiple mods at once, unless they have been manually merged in the data.win.</li> </ul> <p>Though this is no fault of DeltaPatcher, we are currently looking for better options. Let us know if you know of any on the Stoneshard Mod Hub .</p>"},{"location":"tools/deltapatcher/#download","title":"Download","text":"<p>You can grab DeltaPatcher directly on Github. Make sure to grab the version for your OS and not the Source Code !</p> <p>DeltaPatcher on Github </p>"},{"location":"tools/deltapatcher/#usage","title":"Usage","text":""},{"location":"tools/deltapatcher/#creating-mods","title":"Creating Mods","text":"Creating .xdelta files <ul> <li>Make sure you have both a vanilla data.win, and a modded data.win, and that they're both from the same game version.</li> <li>Open <code>DeltaPatcher.exe</code>.</li> <li>Click on the blue button with 2 arrows at the bottom of the window.</li> <li>You should now have 2 more fields.</li> <li>In the <code>Original file</code> field, browse to your vanilla data.win.</li> <li>In the <code>Modified file</code> field, browse to your modified data.win.</li> <li>in the <code>XDelta patch</code> field, browse to the place where you want to save the .xdelta file.</li> <li>You can enter a description in the <code>Description (optional)</code> field if you wish.</li> <li>When done, click on the <code>Create patch</code> button.</li> <li>Wait for it to be done, it can take a bit of time.</li> <li>When done you should have a .xdelta file in the folder you specified.</li> <li>You can distribute this to anyone, this .xdelta file is your mod.</li> </ul>"},{"location":"tools/deltapatcher/#installing-mods","title":"Installing Mods","text":"Applying .xdelta files <ul> <li>Make sure your data.win and the .xdelta of the mod you downloaded are for the same game version.</li> <li>Open <code>DeltaPatcher.exe</code>.</li> <li>In the <code>Original file</code> field, browse to your vanilla data.win.</li> <li>In the <code>XDelta patch</code> field, browse to the .xdelta mod you want to apply to your game.</li> <li>Click on the <code>Apply patch</code> button.</li> <li>Wait for it to be done, it can take a bit of time.</li> <li>When done, your game is now modded.</li> </ul>"},{"location":"tools/deltapatcher/#relevant-guides","title":"Relevant Guides","text":"<p>WIP</p> <p>Come back later !</p>"},{"location":"tools/deltapatcher/#screenshots","title":"Screenshots","text":"<p>WIP</p> <p>Come back later !</p>"},{"location":"tools/gmltocsv/","title":"GML to CSV Converter","text":""},{"location":"tools/gmltocsv/#description","title":"Description","text":"<p>In Stoneshard, some data is stored in tables. The best way to describe what those are is a spreadsheet. Unfortunately, you can't import GML tables into Excel or Google Docs as they are.</p> <p>This tool fixes this by converting them to the .csv format, which is commonly used for spreadsheets, and as such lets you import them in most software to both read and edit tables.</p>"},{"location":"tools/gmltocsv/#download","title":"Download","text":"<p>You can grab the GML to CSV Converter from the Stoneshard Mod Hub  or below.</p> <p>Make sure you have installed the .Net Core 3.1 as this is a requirement for the GML to CSV Converter to work. </p> <p>.Net Core 3.1  GML To CSV Converter </p>"},{"location":"tools/gmltocsv/#usage","title":"Usage","text":""},{"location":"tools/gmltocsv/#1-extracting-the-table","title":"1. Extracting the table","text":"Extracting the table <ul> <li>Open UMT.</li> <li>Locate the file containing the table you want to convert into .csv and note down its name. (exemple : <code>gml_GlobalScript_table_all_attribute</code>)</li> <li>Click on <code>Scripts</code>, <code>Resource Unpackers</code> and finally <code>DumpSpecificCode.csx</code>.</li> <li>Select the folder where the file containing your table will be extracted.</li> <li>Enter the name of the file you want to extract.</li> <li>A <code>Code</code> folder should have appeared where you extracted the file, and it should contain a <code>.gml</code> file.</li> </ul>"},{"location":"tools/gmltocsv/#2-converting-the-table","title":"2. Converting the table","text":"Converting to .csv <ul> <li>Move the .gml file in the <code>CSV_GML_Converter</code> folder you installed earlier.</li> <li>Your .gml file should be in the same folder as the <code>PUT_CSV_OR_GML_FILES_HERE</code> file.</li> <li>Run the <code>CSV_GML_converter_and_editor.exe</code> file.</li> <li>Read the instructions on screen, and press the key corresponding to the file you're trying to convert.</li> <li>The converter will create the .csv file in the same folder.</li> <li>Once it prompts you to chose a file again, you can close it.</li> </ul> <p>Tip</p> <p>To avoid bloating this folder I strongly recommend moving both the .gml and .csv files out of the folder when you're done with converting them.</p>"},{"location":"tools/gmltocsv/#relevant-guides","title":"Relevant Guides","text":"<p>WIP</p> <p>Come back later !</p>"},{"location":"tools/gmltocsv/#screenshots","title":"Screenshots","text":"<p>WIP</p> <p>Come back later !</p>"},{"location":"tools/hgpatcher/","title":"HGPatcher","text":""},{"location":"tools/hgpatcher/#description","title":"Description","text":"<p>HGPatcher isn't a standalone tool : It's actually 2 scripts you can run in UMT.</p> <p>HGExport.csx finds the differences between a vanilla data.win and a modified one, and extracts only the modified code. In practice however, I found it struggled to do so, and often produced random files, sometimes missing some of the modifications I made.</p> <p>HGPatcher.csx attempts to patch the changes from a data.win onto another data.win. The main issue with this is that when patching mods which add content, you will have issues with asset IDs.</p> <p>You can check out the guide <code>Cuistre#5656</code> made about HGPatcher here.</p>"},{"location":"tools/hgpatcher/#download","title":"Download","text":"<p>You can grab the latest version of HGPatcher from the Stoneshard Mod Hub Discord  or below.</p> <p>HGPatcher </p>"},{"location":"tools/hgpatcher/#usage","title":"Usage","text":"<p>Using HGPatcher's scripts is pretty straightforward :</p> <ul> <li>Open UMT.</li> <li>Click on <code>Scripts</code>, top left of the window.</li> <li>Click on <code>Run Other Scripts...</code>.</li> <li>Browse to either <code>HGExport.csx</code> or <code>HGPatcher.csx</code>.</li> <li>Follow the prompts on screen.</li> </ul>"},{"location":"tools/hgpatcher/#relevant-guides","title":"Relevant Guides","text":"<p>WIP</p> <p>Come back later !</p>"},{"location":"tools/hgpatcher/#screenshots","title":"Screenshots","text":"<p>WIP</p> <p>Come back later !</p>"},{"location":"tools/undertalemodtool/","title":"UndertaleModTool","text":""},{"location":"tools/undertalemodtool/#description","title":"Description","text":"<p>UndertaleModTool, often abreviated UMT, is the main tool you will be using to create mods.</p> <p>As the name implies it was initially made for Undertale, but works well with Stoneshard since both of them were made with the same game engine, Gamemaker Studio.</p> <p>We use UndertaleModTool to open and edit the data.win file, which contains all of the game's data.</p>"},{"location":"tools/undertalemodtool/#download","title":"Download","text":"<p>You can find the latest version of UMT over on Github.</p> <p>It's recommended to grab the latest Bleeding Edge release for your operating system, as development is fairly active and developers are fixing issues often.</p> <p>UndertaleModTool Github </p>"},{"location":"tools/undertalemodtool/#usage","title":"Usage","text":"<p>Locate your data.win file, which should be in your game installation directory. By default :</p> <ul> <li>Steam : <code>C:\\SteamLibrary\\steamapps\\common\\Stoneshard</code></li> <li>GOG : <code>C:\\Games\\Stoneshard</code></li> </ul> <p>Once found, simply double click on it to open it with UndertaleModTool.</p>"},{"location":"tools/undertalemodtool/#relevant-guides-references","title":"Relevant Guides &amp; References","text":"<p>WIP</p> <p>Come back later !</p>"},{"location":"tools/undertalemodtool/#screenshots","title":"Screenshots","text":"<p>WIP</p> <p>Come back later !</p>"}]}